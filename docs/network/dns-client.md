
DNS服务器 仅供INT使用
----------------------------------------------------------------------------------------------------

# 一 客户端ubuntu系统安装
$ sudo yum install bind-utils

# 二 配置方法,执行下面三条命令，如下：
$ sudo tee /etc/resolvconf/resolv.conf.d/head <<-'EOF'
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 10.128.180.22
nameserver 10.129.72.132
nameserver 10.129.72.133
EOF

$ sudo tee /etc/resolvconf/resolv.conf.d/base <<-'EOF'
nameserver 10.129.72.132
search hq.ta-mp.com tct.com
EOF

$ sudo resolvconf -u

验证：
$ cat /etc/resolv.conf
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 10.128.180.22
nameserver 10.129.72.132
nameserver 10.129.72.133
nameserver 127.0.1.1
search hq.ta-mp.com tct.com


配置完成．

# 三　测试并验证：
使用两个命令皆可; 1) nsloop 2) dig

#正向查找 （通过域名查IP)
nslookup s0
dig -t A s0.tct.com +short <==> dig s0.tct.com +short

#反向查找 （通过IP查域名域名)
nslookup 10.129.46.53
dig -x 10.128.180.22 +short
dig -x 10.129.93.104 +short

说明：
域名服务器有长域名和短域名
长域名, 如：s0.tct.com
短域名, 如：s0  (将.tct.com 省略掉，使用起来效果相同)

# 四 使用方法

ping 域名

$ ping s0
PING s0.tct.com (10.129.93.14) 56(84) bytes of data.
64 bytes from 10.129.93.14: icmp_seq=1 ttl=61 time=0.926 ms
64 bytes from 10.129.93.14: icmp_seq=2 ttl=61 time=0.867 ms
64 bytes from 10.129.93.14: icmp_seq=3 ttl=61 time=0.913 ms

--- s0.tct.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2007ms
rtt min/avg/max/mdev = 0.867/0.902/0.926/0.025 ms

登录服务器 s0
$ ssh android-bld@s0
$ ssh -l android-bld s0